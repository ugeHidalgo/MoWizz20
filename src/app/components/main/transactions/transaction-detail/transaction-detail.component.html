<div *ngIf="transaction" class="transaction-edition-card">
  <div class="card-header">
    <div class="card-title">{{title}}</div>
    <mat-toolbar color="primary" class="my-header-bar">
      <button mat-raised-button color="primary" (click)="onClickGoBackButton()">
        <i class="material-icons">arrow_back</i>
      </button>
      <button  mat-raised-button color="green" (click)="onClickSaveButton()">
        <i class="material-icons">save</i>
      </button>
      <button mat-raised-button color="warn" (click)="onClickUndoButton()">
        <i class="material-icons">undo</i>
      </button>
    </mat-toolbar>
  </div>
  <div class="card-body">
    <form [formGroup]="validatingForm">

      <mat-form-field class="full-width">
        <mat-label>Fecha:</mat-label>
        <input matInput [matDatepicker]="picker" placeholder="Fecha:" formControlName="date" [value]=transaction.date>
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>

      <mat-form-field class="full-width">
        <mat-label>Tipo de movimiento:</mat-label>
        <mat-select placeholder="Tipo movimiento: " formControlName="transactionType" (selectionChange)="onTransactionTypeSelected()">
            <mat-option *ngFor="let transactionType of transactionTypes" [(value)]=transactionType.value>
                {{transactionType.name}}
            </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field class="full-width">
        <mat-label>Cuenta de cargo:</mat-label>
        <mat-select placeholder="Cuenta: " formControlName="account">
            <mat-option *ngFor="let account of accounts" [(value)]=account.name>
                {{account.name}}: {{account.description}}
            </mat-option>
        </mat-select>
      </mat-form-field>

<!--       <mat-form-field class="full-width">
        <mat-label>Centro de gasto:</mat-label>
        <input  matInput  placeholder="Centro de gasto:" name="costCentre" [(ngModel)]="transaction.costCentre.name" required>
      </mat-form-field>

      <mat-form-field class="full-width">
        <mat-label>Concepto:</mat-label>
        <input  matInput  placeholder="Concepto:"  name="concept" [(ngModel)]="transaction.concept.name" required>
      </mat-form-field>
 -->
      <mat-form-field class="full-width">
        <mat-label>Cantidad:</mat-label>
        <input  matInput  placeholder="Cantidad:"  formControlName="amount" [ngModel]="transaction.amount | euroCurrencyPipe" required>
      </mat-form-field>

      <mat-form-field class="full-width">
        <mat-label>Comentarios:</mat-label>
        <input  matInput  placeholder="Comentarios:" formControlName="comments" [(ngModel)]="transaction.comments">
      </mat-form-field>
    </form>
  </div>
</div>
